<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fetch Method</title>
</head>
<body>
    

    <h1>Fetch Method</h1>







<form action="" id="myform">
    Title<input type="text" id="titletext"> <br>
    Body<input type="text" id="bodytext"> <br>
    User Id<input type="text" id="userid"> <br>
    <input type="submit" id="saveform"> <br>
</form>






<script>

//     fetch("readme.txt").then(function(response){
// // console.log(response.text);
// return response.text();
//     }).then((data)=>{
//         console.log(data);
//         document.write(data);
//     })


// fetch("https://jsonplaceholder.typicode.com/users").then(function(response){
//     return response.json();
// }).then(function(data){
//     console.log(data);
// }).catch(function(err){
// console.log(err);
// })

fetch("https://jsonplaceholder.typicode.com/users").then(function(response){
    return response.json();
}).then(function(data){
   for(var x in data){
    document.write(`${data[x].name}- ${data[x].email} - ${data[x].address.city} <br>` )
   }
}).catch(function(err){
console.log(err);
})


fetch('https://jsonplaceholder.typicode.com/posts', {
  method: 'POST',
  body: JSON.stringify({
    title: 'foo',
    body: 'bar',
    userId: 1,
  }),
  headers: {
    'Content-type': 'application/json; charset=UTF-8',
  },
}).then(function(response){
    return response.json();
}).then(function(data){
console.log(data);
})




document.getElementById('saveform').addEventListener("click",function(e){
    e.preventDefault();
    var obj1={
    title:document.getElementById('titletext').value,
    body:document.getElementById('bodytext').value,
    userId:document.getElementById('userid ').value,
}
    fetch('https://jsonplaceholder.typicode.com/posts', {
  method: 'POST',
  body: JSON.stringify(obj1),
  headers: {
    'Content-type': 'application/json; charset=UTF-8',
  },
}).then(function(response){
    return response.json();
}).then(function(data){
console.log(data);
})
})





</script>


</body>
</html>